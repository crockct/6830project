<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Database Plotter</title>
		<!-- CSS files -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="styles.css" media="screen">
		<link rel="stylesheet" href="font-awesome.css">
		<!-- javascript scripts -->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.1/d3.min.js"></script>
		<script src="index.js"></script>
		<script src="chart.js"></script>
		<script src="cards.js"></script>
		<!--<script src="http://d3js.org/d3.v3.min.js"></script>
		script src="wordcloud.js"></script>-->
	</head>
	
	<body>
		<div id="db-file-form" class="db-file-form">
			<nav class="navbar navbar-default" role="navigation">
				<div class="container-fluid">
					<div class="navbar-header">
						<a class="navbar-brand" href="#">DB File Path</a>
					</div>
					<form class="navbar-form navbar-left">
						<div class="form-group">
							<input id="filepath" type="text" class="form-control" placeholder="enter db filepath" value="static/mimic2.db">
						</div>
						<button id="filepath-btn" class="btn btn-default">Submit</button>
					</form>
				</div>
			</nav>
		</div>
		
		<div id="main" class="container-fluid">
			<div class="row">
				<div id="table-name-col" class="col-xs-2">
					<h3>Tables:</h3>
					<ol id="tables-list">
					</ol>
					<!-- <button>Advanced</button> -->
				</div>
				<div class="col-xs-10">
					
					<div id="instructions" class="">
						<h1>Database Dashboard</h1>
						<p class="authors">Mukarram Tahir, Katherine Hobbs, Colleen Rock</p>
						<p>Enter the filepath for the database file in the form above and then select a table to view the graphs for the selected table.</p>
						<div class="example-queries">
							<div class="">
								<h3>Example Query</h3>
								<p class="code">
								SELECT d_labitems.test_name,
								<br>d_labitems.itemid as e_itemid,
								<br>COUNT(labevents.itemid) AS NumberOfOccurences
								<br>FROM labevents
								<br>JOIN d_labitems
								<br>ON (labevents.itemid=d_labitems.itemid)
								<br>WHERE fluid='BLOOD'
								<br>GROUP BY d_labitems.test_name
								<br>ORDER BY NumberOfOccurences DESC
								<br>LIMIT 5
								</p>
								<p> A more bogus query that can be used to generate a pie chart is given below; the numerical field is just the item ID of the meditem, but ends up being used as the tally for the pie chart.</p>
								<p class="code">
								SELECT DISTINCT d_meditems.*
								<br>FROM d_meditems, medevents
								<br>JOIN d_patients ON medevents.subject_id=d_patients.subject_id WHERE d_meditems.itemid=medevents.itemid AND sex='F'
								<br>LIMIT 5
								</p>
							</div>
						</div>
					</div>
					<div id="cards" style="display: none;">
						<div id="new-card" class="change-me" style="display: none;">
							<div class="flipper flip">
								<div class="card">
									<div class="front">
										<div class="card-instructions" id="front-instructions">
											<span id="results-title-span" class="results-title"></span>
											<span class="edit-button"><i class="fa fa-terminal"></i></span>
										</div>
										<div class="change-me">
											<canvas class="change-me" width="520" height="260"></canvas>
										</div>
									</div>
									<div class="back">
										<div class="card-instructions" id="back-instructions">
											<span class="remove-button" onclick="removeChart()"><i class="fa fa-remove"></i></span>
											SQL Query
											<span id="execute-button" class="run-button" onclick="change-me()"><i class="fa fa-line-chart"></i><!-- <i class="fa fa-pencil"></i> --></span>
											<textarea id="query" spellcheck="false">Enter a query...</textarea>
										</div>
									</div>
								</div>
							</div>
						</div>
						<!-- <div class="row">
									<h3>Add card</h3>
									<span class="edit-button" id="add_pie" onclick="addPieChart()"><i class="fa fa-pie-chart"></i></span><br></br>
									<span class="edit-button" id="add_line" onclick="addLineChart()"><i class="fa fa-line-chart"></i></span><br></br>
									<span class="edit-button" id="add_bar" onclick="addBarChart()"><i class="fa fa-bar-chart"></i></span>
						</div> -->
					</div>
				</div>
			</div>
			<div class="footer row">
				<div class="container">
					<span class="created-by">Prototype created for <a href="http://db.csail.mit.edu/6.830">MIT 6.830 Database Systems</a></span>
				</div>
			</div>
		</div>
		
	</body>
</html>